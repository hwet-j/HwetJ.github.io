---
layout: post
title:  "메모리(힙,스택 영역)"
date:   2023-05-10 13:00
categories: Java
thumbnail: /assets/img/posts/java.png
tags: 메모리 힙 스택 용어
comments: 1
---
##### 자바의 프로그램 실행 구조
- 일반 프로그램 : 프로그램 -> 운영체제 -> 하드웨어
	- 운영체제가 달라지면서 작동이되기도 안되기도 할 수 있다.
- Java 프로그램 : 프로그램 -> JVM -> 운영체제 -> 하드웨어 
	- JVM에 의해서 실행되기 때문에 어떤 운영체제에서도 동일한 결과를 갖는다.
	- JVM이라는 단계가 하나 추가 되었기 때문에 실행 속도면에서 뒤쳐질 수 있다. 

##### 자바의 변수 종류
<p> 변수는 크게 네 종류로 선언된 위치에 따라 클래스 변수, 인스턴스 변수, 지역 변수, 매개 변수로 나뉜다.</p>
<table>
	<thead>
	<tr>
		<th> 변수명 </th>
		<th> 선언위치 </th>
		<th> 설명 </th>
		<th> 변수의 생성시기 </th>
	</tr>
	</thead>
	<tbody>
        <tr>
            <td>클래스 변수(=static 변수)(class 변수)</td>
            <td>클래스 영역</td>
            <td>클래스 영역에서 타입 앞에  static이 붙는 변수<br>객체를 공유하는 변수로 여러 객체에서 공통으로 사용하고 싶을 때 정의</td>
            <td>클래스가 메모리에 올라갈 때</td>
        </tr>
        <tr>
            <td>인스턴스 변수</td>
            <td>클래스 영역</td>
            <td>
            	클래스 영역에서 static이 아닌 변수<br>
     			개별적인 저장 공간으로 객체/인스턴스마다 다른 값 저장 가능<br>
     			==> 객체/인스턴스 생성만 하고 참조 변수가 없는 경우 가비지 컬렉터에 의해 자동 제거됨       	
            </td>
            <td>인스턴스가 생성되었을 때</td>
        </tr>
        <tr>
            <td>지역 변수</td>
            <td>메서드 영역</td>
            <td>
            	메서드 내에서 선언되고 메서드 수행이 끝나면 소멸되는 변수<br>
     			초기값을 지정한 후 사용할 수 있음       	
            </td>
            <td>위치하고 있는 메서드가 수행되었을 때</td>
        </tr>
        <tr>
            <td>매개 변수</td>
            <td>메서드 영역</td>
            <td>
            	메서드 호출 시 '전달하는 값'을 가지고 있는 인수<br>
     			지역 변수처럼 선언된 곳부터 수행이 끝날 때까지 유효하다.    	
            </td>
            <td>위치하고 있는 메서드가 수행되었을 때</td>
        </tr>
     </tbody>
</table>
 


##### JVM 메모리 사용영역
1. 스택 영역 (Stack)
	* 함수 호출 시 생성되는 지역변수와 매개변수가 저장되는 영역이다.
	* 함수 호출이 완료되면 사라진다.
	* 컴파일 하는 과정에서 생성된다. 
	* 임시적으로 사용되는 변수나 정보들이 저장되는 영역이다.
2. 정적 영역 (Static or Method)
3. 힙 영역 (Heap)
	* 필요에 의해 동적으로 메모리를 할당해 줄 때 사용한다.
	* 런타임 과정에서 생성된다. 
	* new 연산자로 생성되는 클래스와 인스턴스 변수, 배열 타입 등 Reference Type이 저장되는 곳이다.
